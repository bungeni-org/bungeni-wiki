#summary Command documentation for bungeni installation capistrano scripts
#labels Phase-Support

<wiki:toc max_depth="3" />

= Introduction =

This page documents capistrano commands typically used in the bungeni installation.
Note that you can run the buildout commands directly -- but the capistrano scripts take care of the extra work of setting the right environment variables, paths and prefixes


== Running an optimistic ('-N') bungeni buildout ==

For a local bungeni instance run :
{{{
cap bungeni_tasks:buildout_opt_local
}}}

For a non-local bungeni instance run :
{{{
cap bungeni_tasks:buildout_opt
}}}

for plone / portal use the plone_tasks or portal_tasks namespace

== Running a full bungeni buildout ==

For a local bungeni instance run :
{{{
cap bungeni_tasks:buildout_full_local
}}}

For a non-local bungeni instance run :
{{{
cap bungeni_tasks:buildout_full
}}}

for plone / portal use the plone_tasks or portal_tasks namespace


== Bootstrapping a buildout == 

{{{
cap bungeni_tasks:bootstrap_bo
}}}

for plone / portal use the plone_tasks or portal_tasks namespace

== Updating the source == 

bungeni :
{{{
cap bungeni_tasks:bungeni_upd
}}}

plone :
{{{
cap plone_tasks:plone_upd
}}}

portal :
{{{
cap portal_tasks:portal_upd
}}}


== Starting all the bungeni services ==

{{{
cap bungeni_services:start_bungeni
}}}

Note - this command applies to all namespaces

== Starting & Stopping supervisor == 

{{{
#start
cap bungeni_tasks:start_supervisor
#stop
cap bungeni_tasks:stop_supervisor
}}}

Note - this command applies to all namespaces

== Starting & Stopping postgres == 

Note - this requires supervisor to be running, since we use supervisorctl to control the processes.

{{{
#start
cap bungeni_tasks:start_postgres
#stop
cap bungeni_tasks:stop_postgres
}}}


== Regenerating supervisord configuration file == 

{{{
cap bungeni_tasks:supervisord_config
}}}

== Build / Rebuild python installations used by the buildouts == 

{{{
cap bungeni_presetup:build_python
}}}

for plone use the plone_presetup namespace. portal uses the same python installation as bungeni.

